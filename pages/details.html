<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>تفاصيل السكراپ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet" />
  <style>
    body { background:#121212; color:#f1f1f1; font-family:'Cairo',sans-serif; padding:20px; }
    .carousel-item img { height:300px; object-fit:cover; }
    .price-original { text-decoration:line-through; color:#bbb; margin-left:10px; }
    .size-label { color: white; font-weight: bold; margin-bottom: 10px; display:block; }
    .size-btn { margin: 5px; }
  </style>
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
</head>
<body>
  <a href="scrubs.html" class="btn btn-secondary mb-3">← رجوع</a>

  <div class="container">
    <div id="detailCarousel" class="carousel slide mb-4" data-bs-ride="carousel">
      <div class="carousel-inner" id="detailSlides"></div>
      <button class="carousel-control-prev" data-bs-target="#detailCarousel" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
      <button class="carousel-control-next" data-bs-target="#detailCarousel" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
    </div>

    <h2 id="detailTitle"></h2>
    <p id="detailDesc"></p>
    <p><span class="price-original" id="detailOrig"></span> <span id="detailPrice"></span></p>

    <label class="size-label">اختر المقاس:</label>
    <div id="sizeOptions">
      <button class="btn btn-outline-light size-btn" onclick="selectSize('S')">S</button>
      <button class="btn btn-outline-light size-btn" onclick="selectSize('M')">M</button>
      <button class="btn btn-outline-light size-btn" onclick="selectSize('L')">L</button>
      <button class="btn btn-outline-light size-btn" onclick="selectSize('XL')">XL</button>
      <button class="btn btn-outline-light size-btn" onclick="selectSize('XXL')">XXL</button>
      <button class="btn btn-outline-light size-btn" onclick="selectSize('XXXL')">XXXL</button>
    </div>

    <button class="btn btn-success" onclick="addToCart(this)">إضافة للعربة</button>
            <div class="successMessage">✅ تمت الإضافة!</div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    const firebaseConfig = {
     apiKey: "AIzaSyBhwUGROezGr52_kEmwdVpvHle-6u17cDY",
      authDomain: "penguin-orders.firebaseapp.com",
      projectId: "penguin-orders",
      storageBucket: "penguin-orders.appspot.com",
      messagingSenderId: "516028471159",
      appId: "1:516028471159:web:9fb63bf904651a5070f372"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    const data = {
      Dubai: {
        imgs: [
          'https://github.com/penguinmedicalwear/penguin/blob/main/assets/images/dubai%20.jpg?raw=true',
          'https://github.com/penguinmedicalwear/penguin/blob/main/assets/images/dubai%201.jpg?raw=true',
          'https://github.com/penguinmedicalwear/penguin/blob/main/assets/images/dubai%202.jpg?raw=true',
          'https://github.com/penguinmedicalwear/penguin/blob/main/assets/images/dubai%20side%20.jpg?raw=true'
        ],
        title: 'Dubai',
        desc: 'خامة إيطالية فاخرة',
        orig: '1000 جنيه',
        price: '600 جنيه'
      },
      Aqua: {
        imgs: [
          'https://github.com/penguinmedicalwear/penguin/blob/main/assets/images/Aquaman%20.jpg?raw=true',
          'https://github.com/penguinmedicalwear/penguin/blob/main/assets/images/Aquaman%201.jpg?raw=true',
          'https://github.com/penguinmedicalwear/penguin/blob/main/assets/images/Aquaman%20front.jpg?raw=true',
          'https://github.com/penguinmedicalwear/penguin/blob/main/assets/images/Aquaman%20side.jpg?raw=true'
        ],
        title: 'Aqua man',
        desc: 'لون مميز وقماش مقاوم للبهتان',
        orig: '1000 جنيه',
        price: '600 جنيه'
      },
      Midnight: {
        imgs: [
          'https://github.com/penguinmedicalwear/penguin/blob/main/assets/images/midnight%201.jpg?raw=true',
          'https://github.com/penguinmedicalwear/penguin/blob/main/assets/images/midnight%202.jpg?raw=true',
          'https://github.com/penguinmedicalwear/penguin/blob/main/assets/images/midnight%20front%20.jpg?raw=true',
          'https://github.com/penguinmedicalwear/penguin/blob/main/assets/images/midnight%20side%20.jpg?raw=true'
        ],
        title: 'Midnight',
        desc: 'تصميم أنيق للمناوبات الليلية',
        orig: '1000 جنيه',
        price: '600 جنيه'
      }
    };

  
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    firebase.initializeApp({apiKey:"...",authDomain:"...",projectId:"penguin-orders"});
    const db = firebase.firestore();
    let selectedSize = null;

    function selectSize(btn) {
      const grp = btn.parentElement;
      grp.querySelectorAll("button").forEach(b=>b.classList.remove("active"));
      btn.classList.add("active");
      selectedSize = btn.textContent;
    }

    function addToCart(el) {
      if (!selectedSize) return alert("❗ اختر المقاس");
      const card=el.closest(".card");
      const name=card.querySelector(".card-title").textContent;
      const price=parseInt(card.querySelector("p span:last-child").textContent);
      db.collection("cart").add({product:name,price:price, size:selectedSize, createdAt:firebase.firestore.FieldValue.serverTimestamp()})
        .then(()=>{
          const msg=card.querySelector(".successMessage");
          msg.classList.add("show");
          setTimeout(()=>msg.classList.remove("show"),2000);
          selectedSize=null;
          card.querySelectorAll(".btn-group button").forEach(b=>b.classList.remove("active"));
        });
    }

    function goToSlide(carouselId, idx, thumb) {
      bootstrap.Carousel.getOrCreateInstance(document.getElementById(carouselId)).to(idx);
      thumb.parentElement.querySelectorAll("img").forEach(i=>i.classList.remove("active"));
      thumb.classList.add("active");
    }
  </script>

</body>
</html>
