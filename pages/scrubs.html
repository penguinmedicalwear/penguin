<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø³ÙƒØ±Ø§Ø¨Ø§Øª - Penguin</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet" />
  <style>
    body { background-color: #121212; color: #f1f1f1; font-family: 'Cairo', sans-serif; padding: 20px; }
    .card { background-color: #1e1e1e; border: 1px solid #444; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
    .card-title, .card-text, p, label { color: #f1f1f1; }
    .price-original { text-decoration: line-through; color: #bbb; margin-left: 10px; }
    .btn.active { background-color: #0d6efd !important; border-color: #0d6efd !important; }
    .successMessage { display: none; position: absolute; bottom: 60px; right: 10px; background: rgba(10,20,40,0.7); color: #fff; padding: 6px 12px; border-radius: 12px; backdrop-filter: blur(8px); font-size:12px; border:1px solid rgba(255,255,255,0.2); opacity:0; transform:translateY(10px); transition:opacity .4s,transform .4s; z-index:5; }
    .successMessage.show { display:block; opacity:1; transform:translateY(0); }
    .carousel-item img { height:200px; object-fit:cover; }
    .thumbnails { display:flex; justify-content:center; margin-top:10px; }
    .thumbnails img { width:50px;height:50px;object-fit:cover;margin:0 5px;border:2px solid transparent;cursor:pointer;border-radius:5px; }
    .thumbnails img.active { border-color:#0d6efd; }
  </style>
</head>
<body>
  <h1 class="text-center mb-4">Ø³ÙƒØ±Ø§Ø¨Ø§Øª Ø·Ø¨ÙŠØ©</h1>
  <div class="container my-5">
    <div class="row g-4 justify-content-center flex-column">
      <!-- Dubai -->
      <div class="col-12">
        <div class="card mb-4 p-3 position-relative">
          <div id="carouselDubai" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
              <div class="carousel-item active"><img src="assets/images/scrub1.jpg" class="w-100" alt="Dubai"></div>
              <div class="carousel-item"><img src="assets/images/scrub2.jpg" class="w-100" alt=""></div>
              <div class="carousel-item"><img src="assets/images/logo.png" class="w-100" alt=""></div>
            </div>
            <button class="carousel-control-prev" data-bs-target="#carouselDubai" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
            <button class="carousel-control-next" data-bs-target="#carouselDubai" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
          </div>
          <div class="thumbnails">
            <img src="assets/images/scrub1.jpg" onclick="goToSlide('carouselDubai',0,this)" class="active">
            <img src="assets/images/scrub2.jpg" onclick="goToSlide('carouselDubai',1,this)">
            <img src="assets/images/logo.png" onclick="goToSlide('carouselDubai',2,this)">
          </div>
          <div class="card-body">
            <h5 class="card-title">Ø³ÙƒØ±Ø§Ù¾ <span style="color:#0d6efd;">Dubai</span></h5>
            <p class="card-text">Ø®Ø§Ù…Ø© Ø¥ÙŠØ·Ø§Ù„ÙŠØ© ÙØ§Ø®Ø±Ø© ÙˆÙ…Ù†Ø§Ø³Ø¨Ø© Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø·ÙˆÙŠÙ„Ø©.</p>
            <p><span class="price-original">1000 Ø¬Ù†ÙŠÙ‡</span> <span>600 Ø¬Ù†ÙŠÙ‡</span></p>
            <label>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù‚Ø§Ø³:</label><br>
            <div class="btn-group mb-2">
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">S</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">M</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">L</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">XL</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">XXL</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">XXXL</button>
            </div>
            <a href="details.html?id=Dubai" class="btn btn-info mb-2">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</a>
            <button class="btn btn-success" onclick="addToCart(this)">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø¹Ø±Ø¨Ø©</button>
            <div class="successMessage">âœ… ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©!</div>
          </div>
        </div>
      </div>
      <!-- Aqua man -->
      <div class="col-12">
        <div class="card mb-4 p-3 position-relative">
          <div id="carouselAqua" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
              <div class="carousel-item active"><img src="assets/images/aqua1.jpg" class="w-100" alt="Aqua man"></div>
              <div class="carousel-item"><img src="assets/images/aqua2.jpg" class="w-100" alt=""></div>
            </div>
            <button class="carousel-control-prev" data-bs-target="#carouselAqua" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
            <button class="carousel-control-next" data-bs-target="#carouselAqua" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
          </div>
          <div class="thumbnails">
            <img src="assets/images/aqua1.jpg" onclick="goToSlide('carouselAqua',0,this)" class="active">
            <img src="assets/images/aqua2.jpg" onclick="goToSlide('carouselAqua',1,this)">
          </div>
          <div class="card-body">
            <h5 class="card-title">Ø³ÙƒØ±Ø§Ù¾ <span style="color:#0d6efd;">Aqua man</span></h5>
            <p class="card-text">Ù„ÙˆÙ† Ù…Ù…ÙŠØ² ÙˆÙ‚Ù…Ø§Ø´ Ù…Ù‚Ø§ÙˆÙ… Ù„Ù„Ø¨Ù‡ØªØ§Ù†.</p>
            <p><span class="price-original">950 Ø¬Ù†ÙŠÙ‡</span> <span>580 Ø¬Ù†ÙŠÙ‡</span></p>
            <label>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù‚Ø§Ø³:</label><br>
            <div class="btn-group mb-2">
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">S</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">M</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">L</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">XL</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">XXL</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">XXXL</button>
            </div>
            <a href="details.html?id=Aqua" class="btn btn-info mb-2">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</a>
            <button class="btn btn-success" onclick="addToCart(this)">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø¹Ø±Ø¨Ø©</button>
            <div class="successMessage">âœ… ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©!</div>
          </div>
        </div>
      </div>
      <!-- Midnight -->
      <div class="col-12">
        <div class="card mb-4 p-3 position-relative">
          <div id="carouselMidnight" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
              <div class="carousel-item active"><img src="assets/images/midnight1.jpg" class="w-100" alt="Midnight"></div>
              <div class="carousel-item"><img src="assets/images/midnight2.jpg" class="w-100" alt=""></div>
            </div>
            <button class="carousel-control-prev" data-bs-target="#carouselMidnight" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
            <button class="carousel-control-next" data-bs-target="#carouselMidnight" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
          </div>
          <div class="thumbnails">
            <img src="assets/images/midnight1.jpg" onclick="goToSlide('carouselMidnight',0,this)" class="active">
            <img src="assets/images/midnight2.jpg" onclick="goToSlide('carouselMidnight',1,this)">
          </div>
          <div class="card-body">
            <h5 class="card-title">Ø³ÙƒØ±Ø§Ù¾ <span style="color:#0d6efd;">Midnight</span></h5>
            <p class="card-text">ØªØµÙ…ÙŠÙ… Ø£Ù†ÙŠÙ‚ ÙŠÙ†Ø§Ø³Ø¨ ÙˆÙ‚Øª Ø§Ù„Ù…Ù†Ø§ÙˆØ¨Ø§Øª Ø§Ù„Ù„ÙŠÙ„ÙŠØ©.</p>
            <p><span class="price-original">1100 Ø¬Ù†ÙŠÙ‡</span> <span>650 Ø¬Ù†ÙŠÙ‡</span></p>
            <label>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù‚Ø§Ø³:</label><br>
            <div class="btn-group mb-2">
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">S</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">M</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">L</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">XL</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">XXL</button>
              <button class="btn btn-outline-light btn-sm" onclick="selectSize(this)">XXXL</button>
            </div>
            <a href="details.html?id=Midnight" class="btn btn-info mb-2">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</a>
            <button class="btn btn-success" onclick="addToCart(this)">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø¹Ø±Ø¨Ø©</button>
            <div class="successMessage">âœ… ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©!</div>
          </div>
        </div>
      </div>

      <div class="text-center">
        <a href="../index.html" class="btn btn-primary">â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
        <a href="cart.html" class="btn btn-success ms-2">ğŸ›’ Ø¹Ø±Ø¨Ø© Ø§Ù„ØªØ³ÙˆÙ‚</a>
      </div>

    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    firebase.initializeApp({apiKey:"...",authDomain:"...",projectId:"penguin-orders"});
    const db = firebase.firestore();
    let selectedSize = null;

    function selectSize(btn) {
      const grp = btn.parentElement;
      grp.querySelectorAll("button").forEach(b=>b.classList.remove("active"));
      btn.classList.add("active");
      selectedSize = btn.textContent;
    }

    function addToCart(el) {
      if (!selectedSize) return alert("â— Ø§Ø®ØªØ± Ø§Ù„Ù…Ù‚Ø§Ø³");
      const card=el.closest(".card");
      const name=card.querySelector(".card-title").textContent;
      const price=parseInt(card.querySelector("p span:last-child").textContent);
      db.collection("cart").add({product:name,price:price, size:selectedSize, createdAt:firebase.firestore.FieldValue.serverTimestamp()})
        .then(()=>{
          const msg=card.querySelector(".successMessage");
          msg.classList.add("show");
          setTimeout(()=>msg.classList.remove("show"),2000);
          selectedSize=null;
          card.querySelectorAll(".btn-group button").forEach(b=>b.classList.remove("active"));
        });
    }

    function goToSlide(carouselId, idx, thumb) {
      bootstrap.Carousel.getOrCreateInstance(document.getElementById(carouselId)).to(idx);
      thumb.parentElement.querySelectorAll("img").forEach(i=>i.classList.remove("active"));
      thumb.classList.add("active");
    }
  </script>

</body>
</html>
